<div class="bibliography list-unstyled">
  <div class="row pub-entry">
    <div class="col-sm-12">
      <div class="pub-title">
        <strong>{{ entry.title }}</strong>
      </div>
      <div class="pub-authors">
        {%- assign authors = entry.author | split: ' and ' -%}
        {%- for author in authors -%}
          {{ author }}
          {%- unless forloop.last -%}, {% endunless -%}
        {%- endfor -%}
      </div>
      <div class="pub-venue">
        {%- assign proceedings = 'inproceedings,incollection' | split: ',' -%}
        {%- assign thesis = 'thesis,mastersthesis,phdthesis' | split: ',' -%}
        {%- if entry.type == 'article' -%}
          <em>{{ entry.journal }}</em>
        {%- elsif proceedings contains entry.type -%}
          <em>In {{ entry.booktitle }}</em>
        {%- elsif thesis contains entry.type -%}
          <em>{{ entry.school }}</em>
        {%- endif -%}
        {% if entry.month or entry.year %}
          <span class="pub-date">
            {%- if entry.month -%}{{ entry.month | capitalize }} {% endif -%}
            {%- if entry.year -%}{{ entry.year }}{% endif -%}
          </span>
        {% endif %}
      </div>
      <div class="pub-links">
        {% assign links = site.data['bib-pdf'][entry.key] %}
        {% if links %}
          {% if links.pdf %}
            <a href="{{ links.pdf }}" target="_blank">PDF</a>
          {% endif %}
          {% if links.arxiv %}
            <a href="{{ links.arxiv }}" target="_blank">arXiv</a>
          {% endif %}
          {% if links.preprint %}
            <a href="{{ links.preprint }}" target="_blank">Preprint</a>
          {% endif %}
        {% endif %}
        {% if entry.doi %}
          <a href="https://doi.org/{{ entry.doi }}" target="_blank">DOI</a>
        {% elsif entry.url %}
          <a href="{{ entry.url }}" target="_blank">Link</a>
        {% endif %}
        {% if entry.abstract %}
          <a
            href="#"
            onclick="
              var abs = document.getElementById('abs-{{ entry.key }}');
              var bib = document.getElementById('bib-{{ entry.key }}');
              var current = window.getComputedStyle(abs).display;
              abs.style.display = (current === 'none' ? 'block' : 'none');
              if (abs.style.display === 'block' && bib) { bib.style.display = 'none'; }
              return false;
            "
            >Show Abstract</a
          >
        {% endif %}
        <a
          href="#"
          onclick="
            var abs = document.getElementById('abs-{{ entry.key }}');
            var bib = document.getElementById('bib-{{ entry.key }}');
            var current = window.getComputedStyle(bib).display;
            bib.style.display = (current === 'none' ? 'block' : 'none');
            if (bib.style.display === 'block' && abs) { abs.style.display = 'none'; }
            return false;
          "
          >Show BibTeX</a
        >
      </div>
      {% if entry.abstract %}
        <div id="abs-{{ entry.key }}" class="abstract-box">
          {{ entry.abstract }}
        </div>
      {% endif %}
      <div id="bib-{{ entry.key }}" class="bibtex-box">
        <pre>{{ entry.bibtex }}</pre>
      </div>
    </div>
  </div>
</div>
